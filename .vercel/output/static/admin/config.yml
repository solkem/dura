backend:
  name: github
  repo: your-org/midnight-learning
  branch: main
  base_url: https://your-site.vercel.app
  auth_endpoint: /api/auth

local_backend: true

publish_mode: editorial_workflow
media_folder: public/images
public_folder: /images

collections:
  - name: concepts
    label: "Concepts"
    folder: "src/content/concepts"
    create: true
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }
      - { name: shortTitle, label: "Short Title", widget: string, required: false }
      - { name: timestamp, label: "Video Timestamp", widget: string, required: false }
      - name: projects
        label: Projects
        widget: select
        multiple: true
        options: ["edgechain", "msingi", "ndani"]
      - name: category
        label: Category
        widget: select
        options:
          - { label: "Cryptography", value: "cryptography" }
          - { label: "Economics", value: "economics" }
          - { label: "Identity", value: "identity" }
          - { label: "Compliance", value: "compliance" }
          - { label: "Infrastructure", value: "infrastructure" }
      - name: difficulty
        label: Difficulty
        widget: select
        options: ["beginner", "intermediate", "advanced"]
        default: "intermediate"
      - name: section
        label: "Research Section"
        widget: select
        required: false
        options: ["background", "methodology", "evaluation", "discussion", "related_work"]
      - { name: lastUpdated, label: "Last Updated", widget: datetime }
      - { name: updatedBy, label: "Updated By", widget: string }
      - name: relatedConcepts
        label: "Related Concepts"
        widget: list
        field: { name: slug, label: Slug, widget: string }
      - { name: body, label: Body, widget: markdown }

  - name: edgechain-concepts
    label: "EdgeChain Concepts"
    folder: "src/content/concepts"
    filter: { field: "projects", value: "edgechain" }
    create: true
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }
      # Simplified view for specific filtering, but typically reuses same schema

  - name: ndani-concepts
    label: "Ndani Concepts"
    folder: "src/content/concepts"
    filter: { field: "projects", value: "ndani" }
    create: true
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }
      # Simplified view for specific filtering, but typically reuses same schema

  - name: msingi-concepts
    label: "Msingi Concepts"
    folder: "src/content/concepts"
    filter: { field: "projects", value: "msingi" }
    create: true
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }

  - name: projects
    label: "Projects"
    folder: "src/content/projects"
    create: true
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }
      - { name: tagline, label: Tagline, widget: string }
      - name: status
        label: Status
        widget: select
        options: ["research", "development", "pilot", "production"]
      - { name: repo, label: "Repository URL", widget: string, required: false }
      - name: team
        label: Team
        widget: list
        fields:
          - { name: name, label: Name, widget: string }
          - { name: role, label: Role, widget: string }
      - { name: lastUpdated, label: "Last Updated", widget: datetime }
      - { name: updatedBy, label: "Updated By", widget: string }
      - { name: body, label: Body, widget: markdown }

  - name: updates
    label: "Research Updates"
    folder: "src/content/updates"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }
      - { name: date, label: Date, widget: datetime }
      - { name: author, label: Author, widget: string }
      - name: project
        label: Project
        widget: select
        options: ["edgechain", "msingi", "ndani", "platform", "all"]
      - name: type
        label: "Update Type"
        widget: select
        options: ["research", "implementation", "documentation", "review"]
      - { name: body, label: Body, widget: markdown }

  - name: msingi-protocols
    label: "Msingi Protocol Specifications"
    folder: "src/content/protocols"
    create: true
    fields:
      - { name: title, label: Title, widget: string }
      - { name: acronym, label: Acronym, widget: string }
      - { name: purpose, label: "One-line Purpose", widget: string }
      - name: guarantees
        label: "Security Guarantees"
        widget: select
        multiple: true
        options: ["PG1", "PG2", "PG3", "PG4", "PG5", "PG6", "EG1", "EG2", "EG3", "EG4"]
      - name: adversaries
        label: "Adversaries Addressed"
        widget: select
        multiple: true
        options: ["A_gov", "A_corp", "A_gw", "A_free", "A_grief", "A_sybil"]
      - { name: lastUpdated, label: "Last Updated", widget: datetime }
      - { name: updatedBy, label: "Updated By", widget: string }
      - { name: body, label: Body, widget: markdown }

  - name: farmer-stories
    label: "Farmer Stories"
    folder: "src/content/stories"
    create: true
    fields:
      - { name: title, label: Title, widget: string }
      - { name: persona, label: "Farmer Persona", widget: string, default: "Nyakupfuya" }
      - { name: threat, label: "Threat Scenario", widget: text }
      - { name: protection, label: "How EdgeChain Protects", widget: text }
      - { name: body, label: Body, widget: markdown }

  - name: open-questions
    label: "Open Questions (Co-Author Input)"
    folder: "src/content/questions"
    create: true
    fields:
      - { name: title, label: Question, widget: string }
      - name: area
        label: "Research Area"
        widget: select
        options: 
          - "Incentive Design"
          - "Security Proofs"
          - "Economic Modeling"
          - "Related Work"
          - "Broader Impact"
      - { name: context, label: "Context/Background", widget: text }
      - { name: body, label: "Detailed Discussion", widget: markdown }

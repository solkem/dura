backend:
  name: github
  repo: solkem/dura
  branch: main
  base_url: https://dura.fly.dev
  auth_endpoint: /api/auth

local_backend: true
publish_mode: editorial_workflow
media_folder: public/images
public_folder: /images
logo_url: /images/dura-logo.svg

collections:
  # =================================================================
  # NEW: Learn Content Collections (Domain-organized)
  # =================================================================
  
  # Midnight & ZK Domain
  - name: learn-midnight-concepts
    label: "Midnight → Concepts"
    folder: "src/content/learn/midnight/concepts"
    create: true
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }
      - { name: type, label: Type, widget: hidden, default: concept }
      - { name: domain, label: Domain, widget: hidden, default: midnight }
      - { name: difficulty, label: Difficulty, widget: select, options: [beginner, intermediate, advanced, expert], default: intermediate }
      - { name: tier, label: "Access Tier", widget: select, options: [free, premium], default: free }
      - { name: description, label: Description, widget: text, required: false }
      - { name: tags, label: Tags, widget: list, required: false }
      - { name: prerequisites, label: Prerequisites, widget: list, required: false }
      - { name: related, label: Related Content, widget: list, required: false }
      - { name: lastUpdated, label: "Last Updated", widget: datetime }
      - { name: updatedBy, label: "Updated By", widget: string }
      - { name: body, label: Body, widget: markdown }

  - name: learn-midnight-protocols
    label: "Midnight → Protocols"
    folder: "src/content/learn/midnight/protocols"
    create: true
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }
      - { name: type, label: Type, widget: hidden, default: protocol }
      - { name: domain, label: Domain, widget: hidden, default: midnight }
      - { name: difficulty, label: Difficulty, widget: select, options: [beginner, intermediate, advanced, expert], default: intermediate }
      - { name: tier, label: "Access Tier", widget: select, options: [free, premium], default: free }
      - { name: description, label: Description, widget: text, required: false }
      - { name: tags, label: Tags, widget: list, required: false }
      - { name: prerequisites, label: Prerequisites, widget: list, required: false }
      - { name: related, label: Related Content, widget: list, required: false }
      - { name: lastUpdated, label: "Last Updated", widget: datetime }
      - { name: updatedBy, label: "Updated By", widget: string }
      - { name: body, label: Body, widget: markdown }

  # Federated Learning Domain
  - name: learn-federated-concepts
    label: "Federated Learning → Concepts"
    folder: "src/content/learn/federated-learning/concepts"
    create: true
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }
      - { name: type, label: Type, widget: hidden, default: concept }
      - { name: domain, label: Domain, widget: hidden, default: federated-learning }
      - { name: difficulty, label: Difficulty, widget: select, options: [beginner, intermediate, advanced, expert], default: intermediate }
      - { name: tier, label: "Access Tier", widget: select, options: [free, premium], default: free }
      - { name: description, label: Description, widget: text, required: false }
      - { name: tags, label: Tags, widget: list, required: false }
      - { name: prerequisites, label: Prerequisites, widget: list, required: false }
      - { name: related, label: Related Content, widget: list, required: false }
      - { name: lastUpdated, label: "Last Updated", widget: datetime }
      - { name: updatedBy, label: "Updated By", widget: string }
      - { name: body, label: Body, widget: markdown }

  # IoT & Edge Domain
  - name: learn-iot-concepts
    label: "IoT & Edge → Concepts"
    folder: "src/content/learn/iot-edge/concepts"
    create: true
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }
      - { name: type, label: Type, widget: hidden, default: concept }
      - { name: domain, label: Domain, widget: hidden, default: iot-edge }
      - { name: difficulty, label: Difficulty, widget: select, options: [beginner, intermediate, advanced, expert], default: intermediate }
      - { name: tier, label: "Access Tier", widget: select, options: [free, premium], default: free }
      - { name: description, label: Description, widget: text, required: false }
      - { name: tags, label: Tags, widget: list, required: false }
      - { name: prerequisites, label: Prerequisites, widget: list, required: false }
      - { name: related, label: Related Content, widget: list, required: false }
      - { name: lastUpdated, label: "Last Updated", widget: datetime }
      - { name: updatedBy, label: "Updated By", widget: string }
      - { name: body, label: Body, widget: markdown }

  # Papers Collection (JSON Data)
  - name: papers
    label: "Research Papers"
    folder: "src/content/papers"
    create: true
    extension: json
    format: json
    fields:
        - { name: title, label: Title, widget: string }
        - name: authors
          label: Authors
          widget: list
          fields:
             - { name: name, label: Name, widget: string }
             - { name: orcid, label: ORCID, widget: string, required: false }
        - { name: year, label: Year, widget: number, value_type: int }
        - { name: venue, label: Venue, widget: string, required: false }
        - { name: doi, label: DOI, widget: string, required: false }
        - { name: arxivId, label: ArXiv ID, widget: string, required: false }
        - { name: bibtex, label: BibTeX, widget: text }
        - { name: abstract, label: Abstract, widget: text, required: false }
        - { name: tags, label: Tags, widget: list, required: false }
        - { name: domain, label: Domain, widget: string, required: false }

  # =================================================================
  # LEGACY: Existing Collections (Keep for backward compatibility)
  # =================================================================
  
  - name: concepts
    label: "Concepts (Legacy)"
    folder: "src/content/concepts"
    create: true
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }
      - { name: category, label: Category, widget: string }
      - { name: body, label: Body, widget: markdown }

  - name: projects
    label: "Projects"
    folder: "src/content/projects"
    create: true
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }
      - { name: body, label: Body, widget: markdown }

  - name: updates
    label: "Research Updates"
    folder: "src/content/updates"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }
      - { name: date, label: Date, widget: datetime }
      - { name: body, label: Body, widget: markdown }

  - name: protocols
    label: "Protocols (Legacy)"
    folder: "src/content/protocols"
    create: true
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }
      - { name: body, label: Body, widget: markdown }

  - name: stories
    label: "Farmer Stories"
    folder: "src/content/stories"
    create: true
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }
      - { name: body, label: Body, widget: markdown }

  - name: questions
    label: "Open Questions"
    folder: "src/content/questions"
    create: true
    extension: mdx
    format: frontmatter
    fields:
      - { name: title, label: Title, widget: string }
      - { name: body, label: Body, widget: markdown }
